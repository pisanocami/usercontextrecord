@ -0,0 +1,1303 @@
# Brand Intelligence Platform - UX/UI Diagnostic & Redesign Plan

> **Documento TÃ©cnico de DiagnÃ³stico y Propuesta de Mejora 10X**
> 
> Fecha: Enero 2026
> Autor: Senior UX/UI Expert (30 aÃ±os de experiencia)
> 
> **Ãšltima revisiÃ³n:** 9 Enero 2026 - Validado contra commits recientes

---

## âš¡ NOTA DE ACTUALIZACIÃ“N (9 Enero 2026)

### Cambios Recientes Detectados

Se identificÃ³ la creaciÃ³n de `MainLayout` en `client/src/components/layouts/main-layout.tsx` (commit `91e338c`), lo cual representa un **avance parcial** hacia la soluciÃ³n propuesta.

**Sin embargo, el diagnÃ³stico sigue siendo 95% vÃ¡lido porque:**

| MÃ©trica | Antes | Ahora | Cambio |
|---------|-------|-------|--------|
| Layouts duplicados en App.tsx | 12 | **12** | Sin cambio |
| LÃ­neas en App.tsx | 783 | **783** | Sin cambio |
| keyword-gap.tsx | 75KB | **73.4KB** | -2% |
| market-demand.tsx | 76KB | **75KB** | -1% |
| app-sidebar.tsx | 557 lÃ­neas | **544 lÃ­neas** | -2% |

**El `MainLayout` solo se usa en 1 ruta** (`/sections/:sectionKey`), dejando 11 layouts duplicados sin migrar.

### RecomendaciÃ³n Inmediata

Migrar los 11 layouts restantes para usar `MainLayout`, reduciendo App.tsx de 783 a ~150 lÃ­neas.

---

## PARTE 1: DIAGNÃ“STICO DEL SISTEMA ACTUAL

### 1.1 Resumen Ejecutivo del Estado Actual

| Aspecto | Estado | PuntuaciÃ³n |
|---------|--------|------------|
| **Arquitectura de Componentes** | Funcional pero fragmentada | 5/10 |
| **Consistencia Visual** | Parcialmente consistente | 6/10 |
| **Experiencia de Usuario** | BÃ¡sica, orientada a desarrolladores | 4/10 |
| **NavegaciÃ³n** | Compleja, demasiadas rutas | 4/10 |
| **Responsividad Mobile** | Implementada pero no optimizada | 5/10 |
| **Accesibilidad** | BÃ¡sica | 4/10 |
| **Performance Percibido** | Aceptable | 6/10 |
| **Onboarding/GuÃ­a** | Inexistente | 2/10 |

**PuntuaciÃ³n Global: 4.5/10**

---

### 1.2 AnÃ¡lisis de Arquitectura Frontend

#### Stack TecnolÃ³gico Actual
```
- Framework: React 18 + TypeScript
- Routing: Wouter (ligero)
- State Management: TanStack Query (React Query)
- UI Library: shadcn/ui (Radix primitives)
- Styling: TailwindCSS
- Forms: React Hook Form + Zod
- Charts: Recharts
- Icons: Lucide React
```

#### Estructura de Archivos (AnÃ¡lisis)

```
client/src/
â”œâ”€â”€ App.tsx                    # 783 lÃ­neas - PROBLEMA: Demasiada lÃ³gica de layout
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ app-sidebar.tsx        # 557 lÃ­neas - PROBLEMA: MonolÃ­tico
â”‚   â”œâ”€â”€ sections/              # 8 archivos (6-30KB cada uno)
â”‚   â”œâ”€â”€ ui/                    # 48 componentes shadcn
â”‚   â”œâ”€â”€ blocks/                # 6 componentes
â”‚   â”œâ”€â”€ notion/                # 6 componentes
â”‚   â””â”€â”€ mobile/                # 2 componentes
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ keyword-gap.tsx        # 75KB - CRÃTICO: Archivo gigante
â”‚   â”œâ”€â”€ market-demand.tsx      # 76KB - CRÃTICO: Archivo gigante
â”‚   â”œâ”€â”€ one-pager.tsx          # 34KB
â”‚   â”œâ”€â”€ module-shell.tsx       # 31KB
â”‚   â””â”€â”€ ... (17 pÃ¡ginas total)
â””â”€â”€ hooks/                     # 5 hooks personalizados
```

---

### 1.3 Problemas CrÃ­ticos Identificados

#### ğŸ”´ CRÃTICO: CÃ³digo Duplicado Masivo en App.tsx

**Problema:** El archivo `App.tsx` contiene **12 layouts casi idÃ©nticos** (ConfigurationLayout, BulkGenerationLayout, KeywordGapLayout, etc.), cada uno repitiendo:
- Header con avatar/logout
- SidebarProvider wrapper
- ThemeToggle
- DropdownMenu de usuario

```typescript
// PATRÃ“N REPETIDO 12 VECES:
function XxxLayout() {
  const { user, logout, isLoggingOut } = useAuth();
  return (
    <SidebarProvider>
      <div className="flex h-screen w-full">
        <AppSidebar ... />
        <div className="flex flex-1 flex-col overflow-hidden">
          <header className="flex h-14 items-center justify-between...">
            {/* MISMO CÃ“DIGO DE HEADER */}
          </header>
          <main>
            <XxxPage />
          </main>
        </div>
      </div>
    </SidebarProvider>
  );
}
```

**Impacto:** 
- ~600 lÃ­neas de cÃ³digo duplicado
- Mantenimiento costoso
- Inconsistencias potenciales

---

#### ğŸ”´ CRÃTICO: PÃ¡ginas MonolÃ­ticas

| Archivo | TamaÃ±o | LÃ­neas Est. | Problema |
|---------|--------|-------------|----------|
| `keyword-gap.tsx` | 75KB | ~1700 | Imposible de mantener |
| `market-demand.tsx` | 76KB | ~1800 | MÃºltiples responsabilidades |
| `one-pager.tsx` | 34KB | ~800 | DeberÃ­a ser modular |
| `module-shell.tsx` | 31KB | ~600 | LÃ³gica mezclada con UI |

**Impacto:**
- Tiempo de carga inicial alto
- Dificultad para testing
- Code splitting ineficiente

---

#### ğŸŸ  ALTO: Sidebar Sobrecargado

El `app-sidebar.tsx` tiene **557 lÃ­neas** con:
- 5 grupos de navegaciÃ³n
- ~25 items de menÃº
- LÃ³gica de mÃ³dulos dinÃ¡micos
- Estados de validaciÃ³n

**Problemas UX:**
- Overwhelm cognitivo para usuarios nuevos
- No hay jerarquÃ­a clara de informaciÃ³n
- Scroll excesivo en pantallas pequeÃ±as

---

#### ğŸŸ  ALTO: NavegaciÃ³n Fragmentada

**17 rutas diferentes** sin estructura clara:

```
/                          # Lista de configuraciones
/new                       # Nueva configuraciÃ³n
/context                   # Brand context
/bulk                      # Bulk generation
/one-pager/:id            # One pager
/keyword-gap              # Lista keyword gap
/keyword-gap/:id          # Detalle keyword gap
/keyword-gap-report/:id   # Reporte keyword gap
/versions/:id             # Historial
/market-demand            # Market demand
/market-demand/:configId  # Market demand por config
/brands                   # GestiÃ³n de brands
/modules                  # Module center
/modules/:moduleId        # Module especÃ­fico
/sections/:sectionKey     # ComparaciÃ³n de secciones
/report/gap               # Compliance report
```

**Problemas:**
- No hay breadcrumbs
- No hay indicaciÃ³n de ubicaciÃ³n actual
- Transiciones entre pÃ¡ginas sin contexto

---

#### ğŸŸ¡ MEDIO: Inconsistencias de DiseÃ±o

1. **Headers variables:** Algunos tienen sidebar trigger, otros no
2. **Espaciado inconsistente:** `px-3 sm:px-4` vs `p-4` vs `p-8`
3. **Cards sin sistema:** Diferentes estilos de cards en cada pÃ¡gina
4. **Badges sin semÃ¡ntica:** Colores arbitrarios para estados

---

#### ğŸŸ¡ MEDIO: Mobile Experience Deficiente

- `MobileNav` existe pero estÃ¡ desconectado de la navegaciÃ³n principal
- Bottom navigation con solo 4 items (insuficiente)
- Tablas no responsivas en varias pÃ¡ginas
- Touch targets pequeÃ±os en formularios

---

#### ğŸŸ¡ MEDIO: Ausencia de Feedback Visual

- No hay estados de loading consistentes
- No hay empty states diseÃ±ados
- No hay animaciones de transiciÃ³n
- No hay confirmaciones visuales de acciones

---

### 1.4 AnÃ¡lisis de Flujos de Usuario

#### Flujo Actual: Crear Nueva ConfiguraciÃ³n

```
1. Usuario llega a "/" (lista vacÃ­a si es nuevo)
2. Click en "Nuevo Contexto" â†’ /new
3. Ve formulario con 8 secciones en sidebar
4. Debe completar campos manualmente
5. Puede usar "AI Generate" por secciÃ³n
6. Guarda manualmente
7. No hay guÃ­a de quÃ© hacer despuÃ©s
```

**Problemas:**
- No hay onboarding
- No hay progreso visible
- No hay validaciÃ³n en tiempo real clara
- No hay sugerencias contextuales

#### Flujo Actual: AnÃ¡lisis de Keyword Gap

```
1. Usuario va a /keyword-gap
2. Ve lista de anÃ¡lisis previos (o vacÃ­a)
3. Selecciona configuraciÃ³n
4. Configura parÃ¡metros
5. Ejecuta anÃ¡lisis (espera)
6. Ve resultados en tabla densa
7. Puede exportar a XLSX
```

**Problemas:**
- Demasiados pasos
- No hay preview de lo que obtendrÃ¡
- Resultados difÃ­ciles de interpretar
- No hay acciones sugeridas

---

### 1.5 AnÃ¡lisis de Componentes UI

#### Componentes shadcn/ui Utilizados (48)

| CategorÃ­a | Componentes | Uso |
|-----------|-------------|-----|
| **Layout** | Card, Separator, ScrollArea | Alto |
| **Forms** | Input, Select, Checkbox, Switch, Textarea | Alto |
| **Feedback** | Toast, Alert, Dialog, AlertDialog | Medio |
| **Navigation** | Tabs, Accordion, Collapsible | Alto |
| **Data Display** | Table, Badge, Avatar | Alto |
| **Overlay** | Dropdown, Popover, Tooltip, Sheet | Medio |
| **Charts** | Chart (wrapper Recharts) | Bajo |

#### Componentes Custom CrÃ­ticos

| Componente | LÃ­neas | Responsabilidad | Estado |
|------------|--------|-----------------|--------|
| `app-sidebar.tsx` | 557 | NavegaciÃ³n global | Sobrecargado |
| `context-review-panel.tsx` | 13KB | Panel de revisiÃ³n | Complejo |
| `context-validator.tsx` | 10KB | ValidaciÃ³n visual | Funcional |
| `brand-selector.tsx` | 7KB | Selector de marca | OK |
| `tag-input.tsx` | 3KB | Input de tags | OK |

---

### 1.6 Performance Actual

#### Bundle Size Estimado
- `keyword-gap.tsx`: ~75KB (sin minificar)
- `market-demand.tsx`: ~76KB (sin minificar)
- Total pages: ~300KB+ de cÃ³digo de pÃ¡ginas

#### Problemas de Performance
1. **No hay lazy loading** de pÃ¡ginas pesadas
2. **No hay code splitting** por ruta
3. **Re-renders innecesarios** por estructura de layouts
4. **Queries sin optimizar** (refetch en cada mount)

---

### 1.7 Accesibilidad (a11y)

| Criterio | Estado | Notas |
|----------|--------|-------|
| Keyboard navigation | Parcial | shadcn provee base |
| Screen reader | BÃ¡sico | Faltan aria-labels |
| Color contrast | OK | Sistema de colores correcto |
| Focus indicators | Parcial | Inconsistente |
| Skip links | No | Ausentes |
| Error announcements | No | Toast no accesible |

---

## PARTE 2: PROPUESTA DE REDISEÃ‘O 10X

### 2.1 VisiÃ³n del Producto Mejorado

> **"De herramienta tÃ©cnica a plataforma de inteligencia de marca que guÃ­a al usuario hacia insights accionables"**

#### Principios de DiseÃ±o

1. **Progressive Disclosure** - Mostrar solo lo necesario en cada momento
2. **Guided Experience** - El sistema guÃ­a, el usuario decide
3. **Instant Feedback** - Cada acciÃ³n tiene respuesta inmediata
4. **Contextual Intelligence** - AI integrada naturalmente
5. **Mobile-First** - DiseÃ±ado para cualquier dispositivo

---

### 2.2 Nueva Arquitectura de InformaciÃ³n

#### Estructura Simplificada (De 17 rutas a 6 Ã¡reas)

```
ğŸ  HOME
â”œâ”€â”€ Dashboard (nuevo)
â”‚   â”œâ”€â”€ Quick Stats
â”‚   â”œâ”€â”€ Recent Activity
â”‚   â””â”€â”€ Action Items
â”‚
ğŸ“Š CONTEXTS
â”œâ”€â”€ List View
â”œâ”€â”€ Create/Edit (wizard)
â””â”€â”€ Detail View
â”‚
ğŸ” ANALYSIS
â”œâ”€â”€ Keyword Gap
â”œâ”€â”€ Market Demand
â””â”€â”€ Visibility Report
â”‚
ğŸ“¦ MODULES
â”œâ”€â”€ Catalog
â””â”€â”€ Module Runner
â”‚
ğŸ“ˆ REPORTS
â”œâ”€â”€ One Pager
â”œâ”€â”€ Compliance
â””â”€â”€ Export Center
â”‚
âš™ï¸ SETTINGS
â”œâ”€â”€ Brands
â”œâ”€â”€ Integrations
â””â”€â”€ Preferences
```

---

### 2.3 Nuevo Sistema de NavegaciÃ³n

#### Desktop: Command Palette + Sidebar Colapsable

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ§  Brand Intelligence    [âŒ˜K Search...]         ğŸ‘¤ User â–¼  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        â”‚                                                    â”‚
â”‚ ğŸ      â”‚  [Breadcrumb: Home > Contexts > Nike Context]     â”‚
â”‚ ğŸ“Š     â”‚                                                    â”‚
â”‚ ğŸ”     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ ğŸ“¦     â”‚  â”‚                                             â”‚  â”‚
â”‚ ğŸ“ˆ     â”‚  â”‚           MAIN CONTENT AREA                 â”‚  â”‚
â”‚ âš™ï¸     â”‚  â”‚                                             â”‚  â”‚
â”‚        â”‚  â”‚                                             â”‚  â”‚
â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚        â”‚                                                    â”‚
â”‚ [?]    â”‚  [Context Actions Bar]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Mobile: Bottom Navigation + Gestures

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Nike Context    â‹®     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚    SCROLLABLE CONTENT   â”‚
â”‚                         â”‚
â”‚    [Swipe for actions]  â”‚
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ   ğŸ“Š  ğŸ”  ğŸ“¦  ğŸ‘¤      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2.4 Nuevos Componentes Clave

#### 2.4.1 Command Palette (âŒ˜K)

```typescript
// BÃºsqueda global con AI
- "Go to Nike context"
- "Run keyword gap for Adidas"
- "Show market trends"
- "Create new context"
- Fuzzy search en todos los datos
```

#### 2.4.2 Context Switcher

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”„ Current: Nike Context     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ â­ Adidas Context            â”‚
â”‚    Puma Context              â”‚
â”‚    Under Armour Context      â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ + Create New Context         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.4.3 Smart Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Good morning, User! Here's your brand intelligence summary  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚ â”‚ 5 Contexts  â”‚ â”‚ 12 Analyses â”‚ â”‚ 3 Actions   â”‚            â”‚
â”‚ â”‚ 2 need work â”‚ â”‚ this week   â”‚ â”‚ pending     â”‚            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                             â”‚
â”‚ ğŸ“Œ PRIORITY ACTIONS                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ âš ï¸ Nike Context needs review - 3 sections incomplete    â”‚â”‚
â”‚ â”‚ ğŸ’¡ New keyword opportunities found for Adidas (+47)     â”‚â”‚
â”‚ â”‚ ğŸ“ˆ Market demand spike detected in "running shoes"      â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ ğŸ“Š RECENT ACTIVITY                                          â”‚
â”‚ â€¢ Keyword Gap analysis completed - 2h ago                   â”‚
â”‚ â€¢ Nike Context updated - yesterday                          â”‚
â”‚ â€¢ New competitor added to Puma - 3 days ago                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.4.4 Context Creation Wizard

```
Step 1 of 4: Brand Identity
â”â”â”â”â”â”â”â”â”â”â—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚  Enter your brand's domain:                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ nike.com                                         ğŸ”  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  âœ¨ AI detected:                                            â”‚
â”‚  â€¢ Brand: Nike, Inc.                                        â”‚
â”‚  â€¢ Industry: Sportswear & Athletic Footwear                 â”‚
â”‚  â€¢ Business Model: DTC + Marketplace                        â”‚
â”‚  â€¢ Revenue: $50B+                                           â”‚
â”‚                                                             â”‚
â”‚  [Edit Details]                                             â”‚
â”‚                                                             â”‚
â”‚                              [Back]  [Continue â†’]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.4.5 Analysis Results Cards

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¯ KEYWORD GAP ANALYSIS                                     â”‚
â”‚ Nike vs Adidas, Puma                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚ â”‚ ğŸŸ¢ PASS          â”‚  â”‚ ğŸŸ¡ REVIEW        â”‚                 â”‚
â”‚ â”‚ 234 keywords     â”‚  â”‚ 89 keywords      â”‚                 â”‚
â”‚ â”‚ $45K est. value  â”‚  â”‚ $12K est. value  â”‚                 â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                             â”‚
â”‚ TOP OPPORTUNITIES                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ 1. "running shoes for flat feet"  Vol: 12K  Gap: High   â”‚â”‚
â”‚ â”‚ 2. "best marathon shoes 2026"     Vol: 8K   Gap: High   â”‚â”‚
â”‚ â”‚ 3. "nike vs adidas running"       Vol: 6K   Gap: Med    â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ [View Full Report]  [Export]  [Create Action Items]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2.5 Sistema de DiseÃ±o Mejorado

#### Paleta de Colores SemÃ¡ntica

```css
/* Estados de Contexto */
--status-draft: #F59E0B;      /* Amber - En progreso */
--status-ready: #3B82F6;      /* Blue - Listo para anÃ¡lisis */
--status-analyzed: #8B5CF6;   /* Purple - Analizado */
--status-confirmed: #10B981;  /* Green - Confirmado */
--status-locked: #6B7280;     /* Gray - Bloqueado */

/* Acciones */
--action-primary: #2563EB;    /* Blue - AcciÃ³n principal */
--action-success: #059669;    /* Green - Ã‰xito */
--action-warning: #D97706;    /* Amber - Advertencia */
--action-danger: #DC2626;     /* Red - Peligro */

/* Datos */
--data-positive: #10B981;     /* Green - Tendencia positiva */
--data-negative: #EF4444;     /* Red - Tendencia negativa */
--data-neutral: #6B7280;      /* Gray - Sin cambio */
```

#### TipografÃ­a

```css
/* JerarquÃ­a clara */
--font-display: 'Inter', sans-serif;  /* TÃ­tulos */
--font-body: 'Inter', sans-serif;     /* Texto */
--font-mono: 'JetBrains Mono', mono;  /* CÃ³digo/datos */

/* TamaÃ±os */
--text-hero: 3rem;      /* 48px - Landing */
--text-h1: 2rem;        /* 32px - Page titles */
--text-h2: 1.5rem;      /* 24px - Section titles */
--text-h3: 1.25rem;     /* 20px - Card titles */
--text-body: 1rem;      /* 16px - Body text */
--text-small: 0.875rem; /* 14px - Secondary */
--text-tiny: 0.75rem;   /* 12px - Labels */
```

#### Espaciado Consistente

```css
/* Sistema de 4px */
--space-1: 0.25rem;   /* 4px */
--space-2: 0.5rem;    /* 8px */
--space-3: 0.75rem;   /* 12px */
--space-4: 1rem;      /* 16px */
--space-6: 1.5rem;    /* 24px */
--space-8: 2rem;      /* 32px */
--space-12: 3rem;     /* 48px */
--space-16: 4rem;     /* 64px */
```

#### Componentes Base RediseÃ±ados

```typescript
// Card con variantes semÃ¡nticas
<Card variant="default" />      // Contenido general
<Card variant="interactive" />  // Clickeable
<Card variant="highlight" />    // Destacado
<Card variant="warning" />      // AtenciÃ³n requerida
<Card variant="success" />      // Completado

// Badges con significado
<Badge status="draft" />        // Amber
<Badge status="ready" />        // Blue
<Badge status="success" />      // Green
<Badge status="error" />        // Red

// Buttons con jerarquÃ­a
<Button variant="primary" />    // AcciÃ³n principal (1 por vista)
<Button variant="secondary" />  // Acciones secundarias
<Button variant="ghost" />      // Acciones terciarias
<Button variant="danger" />     // Acciones destructivas
```

---

### 2.6 Micro-interacciones y Animaciones

#### Transiciones de PÃ¡gina

```css
/* Fade + Slide suave */
.page-enter {
  opacity: 0;
  transform: translateY(8px);
}
.page-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: all 200ms ease-out;
}
```

#### Feedback de Acciones

```typescript
// Guardar con Ã©xito
<motion.div
  initial={{ scale: 0.9, opacity: 0 }}
  animate={{ scale: 1, opacity: 1 }}
  className="success-indicator"
>
  <CheckCircle className="text-green-500" />
</motion.div>

// Loading states
<Skeleton className="animate-pulse" />
<Spinner className="animate-spin" />
```

#### Hover States Informativos

```css
/* Cards interactivas */
.card-interactive:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
  border-color: var(--primary);
}

/* Tooltips con delay */
[data-tooltip]:hover::after {
  animation: tooltip-appear 150ms ease-out 300ms forwards;
}
```

---

### 2.7 Responsive Design Mejorado

#### Breakpoints

```css
--bp-sm: 640px;   /* Mobile landscape */
--bp-md: 768px;   /* Tablet */
--bp-lg: 1024px;  /* Desktop */
--bp-xl: 1280px;  /* Large desktop */
--bp-2xl: 1536px; /* Extra large */
```

#### Layouts Adaptativos

```
MOBILE (< 768px)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 â”‚
â”‚ Single Column   â”‚
â”‚ Content         â”‚
â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Bottom Nav      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TABLET (768px - 1024px)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚     â”‚ â”‚             â”‚â”‚
â”‚ â”‚Side â”‚ â”‚   Content   â”‚â”‚
â”‚ â”‚     â”‚ â”‚             â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DESKTOP (> 1024px)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header with search                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        â”‚                            â”‚
â”‚ Side   â”‚      Main Content          â”‚
â”‚ bar    â”‚      (max-width: 1200px)   â”‚
â”‚        â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2.8 Accesibilidad Mejorada

#### Checklist de ImplementaciÃ³n

- [ ] **Skip Links** - "Skip to main content" al inicio
- [ ] **Focus Management** - Focus visible en todos los elementos interactivos
- [ ] **ARIA Labels** - Todos los iconos y botones con labels
- [ ] **Live Regions** - Anuncios de cambios dinÃ¡micos
- [ ] **Keyboard Navigation** - Tab order lÃ³gico
- [ ] **Color Contrast** - WCAG AA mÃ­nimo (4.5:1)
- [ ] **Reduced Motion** - Respetar `prefers-reduced-motion`
- [ ] **Screen Reader Testing** - VoiceOver, NVDA

---

## PARTE 3: PLAN DE IMPLEMENTACIÃ“N

### 3.1 Fases del Proyecto

```
FASE 1: Fundamentos (2 semanas)
â”œâ”€â”€ Refactorizar layouts duplicados
â”œâ”€â”€ Crear sistema de componentes base
â”œâ”€â”€ Implementar nuevo routing
â””â”€â”€ Setup de animaciones

FASE 2: NavegaciÃ³n (1 semana)
â”œâ”€â”€ Nuevo sidebar colapsable
â”œâ”€â”€ Command palette (âŒ˜K)
â”œâ”€â”€ Breadcrumbs
â””â”€â”€ Context switcher

FASE 3: Dashboard (1 semana)
â”œâ”€â”€ Nueva pÃ¡gina de inicio
â”œâ”€â”€ Widgets de resumen
â”œâ”€â”€ Activity feed
â””â”€â”€ Action items

FASE 4: Flujos Core (2 semanas)
â”œâ”€â”€ Wizard de creaciÃ³n de contexto
â”œâ”€â”€ RediseÃ±o de anÃ¡lisis
â”œâ”€â”€ Nuevas cards de resultados
â””â”€â”€ Export center

FASE 5: Mobile & Polish (1 semana)
â”œâ”€â”€ Bottom navigation mejorada
â”œâ”€â”€ Gestos tÃ¡ctiles
â”œâ”€â”€ Micro-interacciones
â””â”€â”€ Testing de accesibilidad

FASE 6: QA & Launch (1 semana)
â”œâ”€â”€ Testing cross-browser
â”œâ”€â”€ Performance audit
â”œâ”€â”€ Bug fixes
â””â”€â”€ DocumentaciÃ³n
```

**Total Estimado: 8 semanas**

---

### 3.2 Tareas Detalladas por Fase

#### FASE 1: Fundamentos

##### Tarea 1.1: Crear Layout Unificado
**Archivo:** `client/src/components/layouts/app-layout.tsx`

```typescript
// NUEVO: Layout Ãºnico que reemplaza los 12 layouts duplicados
export function AppLayout({ children }: { children: React.ReactNode }) {
  const { user, logout } = useAuth();
  
  return (
    <SidebarProvider defaultOpen={false}>
      <div className="flex h-screen w-full">
        <AppSidebar />
        <div className="flex flex-1 flex-col overflow-hidden">
          <AppHeader user={user} onLogout={logout} />
          <main className="flex-1 overflow-auto">
            {children}
          </main>
        </div>
      </div>
    </SidebarProvider>
  );
}
```

##### Tarea 1.2: Refactorizar App.tsx
**Archivo:** `client/src/App.tsx`

```typescript
// ANTES: 783 lÃ­neas con 12 layouts
// DESPUÃ‰S: ~100 lÃ­neas

function Router() {
  return (
    <Switch>
      {/* Rutas con layout estÃ¡ndar */}
      <Route path="/">
        <AppLayout><ConfigurationsList /></AppLayout>
      </Route>
      <Route path="/new">
        <AppLayout><ConfigurationPage /></AppLayout>
      </Route>
      {/* ... resto de rutas */}
      
      {/* Rutas sin layout (landing, auth) */}
      <Route path="/login" component={LoginPage} />
      
      <Route component={NotFound} />
    </Switch>
  );
}
```

##### Tarea 1.3: Sistema de Componentes Base
**Directorio:** `client/src/components/ui-extended/`

```
ui-extended/
â”œâ”€â”€ card-variants.tsx      # Card con variantes semÃ¡nticas
â”œâ”€â”€ status-badge.tsx       # Badge con estados predefinidos
â”œâ”€â”€ action-button.tsx      # Button con loading states
â”œâ”€â”€ data-table.tsx         # Table con sorting/filtering
â”œâ”€â”€ empty-state.tsx        # Estados vacÃ­os consistentes
â”œâ”€â”€ loading-state.tsx      # Skeletons y spinners
â””â”€â”€ index.ts               # Exports centralizados
```

##### Tarea 1.4: Setup de Animaciones
**Archivo:** `client/src/lib/animations.ts`

```typescript
import { Variants } from "framer-motion";

export const pageTransition: Variants = {
  initial: { opacity: 0, y: 8 },
  animate: { opacity: 1, y: 0 },
  exit: { opacity: 0, y: -8 },
};

export const cardHover: Variants = {
  rest: { scale: 1, boxShadow: "var(--shadow)" },
  hover: { scale: 1.02, boxShadow: "var(--shadow-lg)" },
};

export const fadeIn: Variants = {
  initial: { opacity: 0 },
  animate: { opacity: 1, transition: { duration: 0.2 } },
};
```

---

#### FASE 2: NavegaciÃ³n

##### Tarea 2.1: Nuevo Sidebar
**Archivo:** `client/src/components/navigation/app-sidebar-v2.tsx`

```typescript
// CaracterÃ­sticas:
// - Colapsable a iconos
// - Grupos expandibles
// - Indicador de secciÃ³n activa
// - Badge de notificaciones
// - Footer con estado del contexto

export function AppSidebarV2() {
  const [collapsed, setCollapsed] = useState(false);
  const location = useLocation();
  
  return (
    <aside className={cn(
      "flex flex-col border-r bg-sidebar transition-all duration-200",
      collapsed ? "w-16" : "w-64"
    )}>
      <SidebarHeader collapsed={collapsed} />
      <SidebarNav collapsed={collapsed} currentPath={location} />
      <SidebarFooter collapsed={collapsed} />
    </aside>
  );
}
```

##### Tarea 2.2: Command Palette
**Archivo:** `client/src/components/navigation/command-palette.tsx`

```typescript
// Usar cmdk library
import { Command } from "cmdk";

export function CommandPalette() {
  const [open, setOpen] = useState(false);
  
  // Keyboard shortcut
  useEffect(() => {
    const down = (e: KeyboardEvent) => {
      if (e.key === "k" && (e.metaKey || e.ctrlKey)) {
        e.preventDefault();
        setOpen(true);
      }
    };
    document.addEventListener("keydown", down);
    return () => document.removeEventListener("keydown", down);
  }, []);
  
  return (
    <Command.Dialog open={open} onOpenChange={setOpen}>
      <Command.Input placeholder="Search or type a command..." />
      <Command.List>
        <Command.Group heading="Navigation">
          {/* Items de navegaciÃ³n */}
        </Command.Group>
        <Command.Group heading="Actions">
          {/* Acciones rÃ¡pidas */}
        </Command.Group>
        <Command.Group heading="Recent">
          {/* Contextos recientes */}
        </Command.Group>
      </Command.List>
    </Command.Dialog>
  );
}
```

##### Tarea 2.3: Breadcrumbs
**Archivo:** `client/src/components/navigation/breadcrumbs.tsx`

```typescript
export function Breadcrumbs() {
  const location = useLocation();
  const crumbs = useBreadcrumbs(location);
  
  return (
    <nav aria-label="Breadcrumb" className="flex items-center gap-2 text-sm">
      {crumbs.map((crumb, i) => (
        <Fragment key={crumb.path}>
          {i > 0 && <ChevronRight className="h-4 w-4 text-muted-foreground" />}
          {i === crumbs.length - 1 ? (
            <span className="font-medium">{crumb.label}</span>
          ) : (
            <Link href={crumb.path} className="text-muted-foreground hover:text-foreground">
              {crumb.label}
            </Link>
          )}
        </Fragment>
      ))}
    </nav>
  );
}
```

---

#### FASE 3: Dashboard

##### Tarea 3.1: PÃ¡gina Dashboard
**Archivo:** `client/src/pages/dashboard.tsx`

```typescript
export default function Dashboard() {
  const { data: stats } = useQuery({ queryKey: ["/api/dashboard/stats"] });
  const { data: activity } = useQuery({ queryKey: ["/api/dashboard/activity"] });
  const { data: actions } = useQuery({ queryKey: ["/api/dashboard/actions"] });
  
  return (
    <div className="container py-8 space-y-8">
      <WelcomeHeader />
      
      <div className="grid gap-4 md:grid-cols-3">
        <StatCard title="Contexts" value={stats?.contexts} trend={stats?.contextsTrend} />
        <StatCard title="Analyses" value={stats?.analyses} trend={stats?.analysesTrend} />
        <StatCard title="Actions" value={stats?.pendingActions} variant="warning" />
      </div>
      
      <div className="grid gap-6 lg:grid-cols-2">
        <PriorityActions actions={actions} />
        <RecentActivity activity={activity} />
      </div>
    </div>
  );
}
```

##### Tarea 3.2: Widgets de Dashboard
**Directorio:** `client/src/components/dashboard/`

```
dashboard/
â”œâ”€â”€ welcome-header.tsx     # Saludo personalizado
â”œâ”€â”€ stat-card.tsx          # Card de estadÃ­stica
â”œâ”€â”€ priority-actions.tsx   # Lista de acciones pendientes
â”œâ”€â”€ recent-activity.tsx    # Feed de actividad
â”œâ”€â”€ quick-actions.tsx      # Botones de acciones rÃ¡pidas
â””â”€â”€ context-health.tsx     # Estado de salud de contextos
```

---

#### FASE 4: Flujos Core

##### Tarea 4.1: Wizard de CreaciÃ³n
**Archivo:** `client/src/pages/context-wizard.tsx`

```typescript
const WIZARD_STEPS = [
  { id: "brand", title: "Brand Identity", component: BrandStep },
  { id: "category", title: "Category", component: CategoryStep },
  { id: "competitors", title: "Competitors", component: CompetitorsStep },
  { id: "review", title: "Review", component: ReviewStep },
];

export default function ContextWizard() {
  const [step, setStep] = useState(0);
  const [data, setData] = useState({});
  
  const CurrentStep = WIZARD_STEPS[step].component;
  
  return (
    <div className="container max-w-3xl py-8">
      <WizardProgress steps={WIZARD_STEPS} current={step} />
      
      <Card className="mt-8">
        <CurrentStep 
          data={data} 
          onUpdate={(updates) => setData({ ...data, ...updates })}
          onNext={() => setStep(step + 1)}
          onBack={() => setStep(step - 1)}
        />
      </Card>
    </div>
  );
}
```

##### Tarea 4.2: Refactorizar Keyword Gap
**Estrategia:** Dividir `keyword-gap.tsx` (75KB) en mÃ³dulos

```
pages/keyword-gap/
â”œâ”€â”€ index.tsx              # Entry point (~100 lÃ­neas)
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ config-selector.tsx
â”‚   â”œâ”€â”€ analysis-params.tsx
â”‚   â”œâ”€â”€ results-summary.tsx
â”‚   â”œâ”€â”€ keyword-table.tsx
â”‚   â”œâ”€â”€ opportunity-cards.tsx
â”‚   â””â”€â”€ export-options.tsx
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ use-keyword-gap.ts
â”‚   â””â”€â”€ use-export.ts
â””â”€â”€ types.ts
```

##### Tarea 4.3: Cards de Resultados
**Archivo:** `client/src/components/analysis/result-card.tsx`

```typescript
interface ResultCardProps {
  title: string;
  description?: string;
  metrics: Array<{
    label: string;
    value: string | number;
    trend?: "up" | "down" | "neutral";
  }>;
  actions?: Array<{
    label: string;
    onClick: () => void;
    variant?: "primary" | "secondary";
  }>;
}

export function ResultCard({ title, description, metrics, actions }: ResultCardProps) {
  return (
    <Card className="overflow-hidden">
      <CardHeader className="pb-2">
        <CardTitle className="text-lg">{title}</CardTitle>
        {description && <CardDescription>{description}</CardDescription>}
      </CardHeader>
      <CardContent>
        <div className="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
          {metrics.map((metric) => (
            <MetricDisplay key={metric.label} {...metric} />
          ))}
        </div>
        {actions && (
          <div className="flex gap-2 mt-4 pt-4 border-t">
            {actions.map((action) => (
              <Button 
                key={action.label} 
                variant={action.variant || "secondary"}
                onClick={action.onClick}
              >
                {action.label}
              </Button>
            ))}
          </div>
        )}
      </CardContent>
    </Card>
  );
}
```

---

#### FASE 5: Mobile & Polish

##### Tarea 5.1: Bottom Navigation Mejorada
**Archivo:** `client/src/components/mobile/bottom-nav-v2.tsx`

```typescript
const NAV_ITEMS = [
  { icon: Home, label: "Home", path: "/" },
  { icon: FolderOpen, label: "Contexts", path: "/contexts" },
  { icon: Search, label: "Analysis", path: "/analysis" },
  { icon: BarChart, label: "Reports", path: "/reports" },
  { icon: User, label: "Profile", path: "/profile" },
];

export function BottomNavV2() {
  const [location] = useLocation();
  
  return (
    <nav className="fixed bottom-0 inset-x-0 bg-background border-t safe-area-inset-bottom sm:hidden">
      <div className="flex justify-around">
        {NAV_ITEMS.map((item) => (
          <Link key={item.path} href={item.path}>
            <a className={cn(
              "flex flex-col items-center py-2 px-3 min-w-[64px]",
              location === item.path ? "text-primary" : "text-muted-foreground"
            )}>
              <item.icon className="h-5 w-5" />
              <span className="text-xs mt-1">{item.label}</span>
            </a>
          </Link>
        ))}
      </div>
    </nav>
  );
}
```

##### Tarea 5.2: Gestos TÃ¡ctiles
**Archivo:** `client/src/hooks/use-swipe.ts`

```typescript
export function useSwipe(onSwipeLeft?: () => void, onSwipeRight?: () => void) {
  const [touchStart, setTouchStart] = useState<number | null>(null);
  const [touchEnd, setTouchEnd] = useState<number | null>(null);
  
  const minSwipeDistance = 50;
  
  const onTouchStart = (e: TouchEvent) => {
    setTouchEnd(null);
    setTouchStart(e.targetTouches[0].clientX);
  };
  
  const onTouchMove = (e: TouchEvent) => {
    setTouchEnd(e.targetTouches[0].clientX);
  };
  
  const onTouchEnd = () => {
    if (!touchStart || !touchEnd) return;
    const distance = touchStart - touchEnd;
    const isLeftSwipe = distance > minSwipeDistance;
    const isRightSwipe = distance < -minSwipeDistance;
    
    if (isLeftSwipe && onSwipeLeft) onSwipeLeft();
    if (isRightSwipe && onSwipeRight) onSwipeRight();
  };
  
  return { onTouchStart, onTouchMove, onTouchEnd };
}
```

---

### 3.3 Archivos a Crear/Modificar

#### Nuevos Archivos (Crear)

| Archivo | PropÃ³sito | Prioridad |
|---------|-----------|-----------|
| `components/layouts/app-layout.tsx` | Layout unificado | P0 |
| `components/layouts/app-header.tsx` | Header reutilizable | P0 |
| `components/navigation/app-sidebar-v2.tsx` | Nuevo sidebar | P0 |
| `components/navigation/command-palette.tsx` | BÃºsqueda global | P1 |
| `components/navigation/breadcrumbs.tsx` | NavegaciÃ³n contextual | P1 |
| `components/navigation/context-switcher.tsx` | Cambio de contexto | P1 |
| `pages/dashboard.tsx` | Nueva pÃ¡gina inicio | P1 |
| `components/dashboard/*.tsx` | Widgets dashboard | P1 |
| `pages/context-wizard.tsx` | Wizard de creaciÃ³n | P2 |
| `components/analysis/result-card.tsx` | Cards de resultados | P2 |
| `components/ui-extended/*.tsx` | Componentes extendidos | P0 |
| `lib/animations.ts` | Sistema de animaciones | P1 |
| `hooks/use-swipe.ts` | Gestos tÃ¡ctiles | P3 |

#### Archivos a Modificar

| Archivo | Cambio | Prioridad |
|---------|--------|-----------|
| `App.tsx` | Reducir de 783 a ~100 lÃ­neas | P0 |
| `app-sidebar.tsx` | Reemplazar con v2 | P0 |
| `index.css` | Agregar variables de diseÃ±o | P1 |
| `keyword-gap.tsx` | Dividir en mÃ³dulos | P2 |
| `market-demand.tsx` | Dividir en mÃ³dulos | P2 |
| `mobile-nav.tsx` | Reemplazar con v2 | P3 |

#### Archivos a Eliminar (DespuÃ©s de migraciÃ³n)

| Archivo | RazÃ³n |
|---------|-------|
| Layouts duplicados en `App.tsx` | Reemplazados por `AppLayout` |
| `app-sidebar.tsx` (original) | Reemplazado por v2 |
| `mobile-nav.tsx` (original) | Reemplazado por v2 |

---

### 3.4 Dependencias a Agregar

```json
{
  "dependencies": {
    "framer-motion": "^11.0.0",     // Animaciones
    "cmdk": "^1.0.0",               // Command palette
    "@radix-ui/react-navigation-menu": "^1.1.0"  // Navigation
  }
}
```

---

### 3.5 Testing Plan

#### Unit Tests
- Componentes de navegaciÃ³n
- Hooks personalizados
- Utilidades de animaciÃ³n

#### Integration Tests
- Flujo de creaciÃ³n de contexto
- NavegaciÃ³n entre pÃ¡ginas
- Command palette

#### E2E Tests (Playwright)
- Happy path: crear contexto â†’ anÃ¡lisis â†’ reporte
- Mobile navigation
- Keyboard accessibility

#### Visual Regression
- Capturas de pantalla de componentes clave
- ComparaciÃ³n antes/despuÃ©s

---

### 3.6 MÃ©tricas de Ã‰xito

| MÃ©trica | Actual | Objetivo |
|---------|--------|----------|
| LÃ­neas de cÃ³digo en App.tsx | 783 | < 150 |
| Tiempo para crear contexto | ~5 min | < 2 min |
| Lighthouse Performance | ~70 | > 90 |
| Lighthouse Accessibility | ~60 | > 95 |
| Bundle size (pages) | ~300KB | < 150KB |
| Mobile usability score | 4/10 | 9/10 |

---

## PARTE 4: RESUMEN EJECUTIVO

### Problemas Principales Identificados

1. **CÃ³digo duplicado masivo** - 12 layouts idÃ©nticos en App.tsx
2. **PÃ¡ginas monolÃ­ticas** - Archivos de 75KB+ imposibles de mantener
3. **NavegaciÃ³n confusa** - 17 rutas sin estructura clara
4. **Sin onboarding** - Usuarios perdidos al empezar
5. **Mobile deficiente** - Experiencia tÃ¡ctil bÃ¡sica
6. **Sin feedback visual** - Acciones sin confirmaciÃ³n

### Soluciones Propuestas

1. **Layout unificado** - Un componente para todos los layouts
2. **ModularizaciÃ³n** - Dividir pÃ¡ginas grandes en componentes
3. **Nueva IA de navegaciÃ³n** - Dashboard + Command Palette + Breadcrumbs
4. **Wizard guiado** - CreaciÃ³n de contexto paso a paso
5. **Mobile-first** - Bottom nav + gestos + responsive
6. **Micro-interacciones** - Animaciones y feedback visual

### InversiÃ³n Estimada

- **Tiempo:** 8 semanas (1 desarrollador senior)
- **Dependencias nuevas:** 3 packages (~50KB)
- **ROI esperado:** 
  - -60% tiempo de desarrollo futuro
  - +40% retenciÃ³n de usuarios
  - +80% satisfacciÃ³n mobile

---

> **PrÃ³ximo Paso:** Comenzar con Fase 1 (Fundamentos) - Crear `AppLayout` y refactorizar `App.tsx`

---

*Documento generado por Senior UX/UI Expert - 30 aÃ±os de experiencia en diseÃ±o de productos digitales*